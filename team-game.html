<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <!-- Ø¨Ø¹Ø¯ style.css -->
<script src="config.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø© - Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Ø£Ù†Ù…Ø§Ø· Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠ */
        .team-game-container {
            max-width: 1200px;
            margin: 100px auto 50px;
            padding: 0 20px;
        }
        
        .teams-wrapper {
            display: flex;
            gap: 30px;
            margin: 40px 0;
            min-height: 500px;
        }
        
        @media (max-width: 900px) {
            .teams-wrapper {
                flex-direction: column;
            }
        }
        
        .team-panel {
            flex: 1;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 20px;
            padding: 30px;
            display: flex;
            flex-direction: column;
        }
        
        .team-blue {
            border: 3px solid #00d4ff;
        }
        
        .team-red {
            border: 3px solid #ff4757;
        }
        
        .team-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .team-name {
            font-size: 1.8rem;
            font-weight: bold;
        }
        
        .team-blue .team-name {
            color: #00d4ff;
        }
        
        .team-red .team-name {
            color: #ff4757;
        }
        
        .team-score {
            font-size: 3rem;
            font-weight: bold;
        }
        
        .team-blue .team-score {
            color: #00d4ff;
        }
        
        .team-red .team-score {
            color: #ff4757;
        }
        
        .players-list {
            flex: 1;
            margin: 20px 0;
        }
        
        .player-item {
            padding: 15px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            margin-bottom: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .player-name {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .player-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 212, 255, 0.2);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .add-player-btn {
            width: 100%;
            padding: 15px;
            background: rgba(255, 255, 255, 0.1);
            border: 2px dashed rgba(255, 255, 255, 0.3);
            border-radius: 10px;
            color: white;
            cursor: pointer;
            margin-top: 10px;
            transition: 0.3s;
        }
        
        .add-player-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
        }
        
        /* Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© */
        .question-center {
            flex: 2;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 0 20px;
        }
        
        .current-team-turn {
            background: rgba(255, 215, 0, 0.2);
            padding: 15px 30px;
            border-radius: 50px;
            margin-bottom: 30px;
            border: 2px solid #ffd700;
            text-align: center;
        }
        
        .team-turn-name {
            font-size: 1.5rem;
            color: #ffd700;
            font-weight: bold;
        }
        
        .question-box {
            background: rgba(10, 25, 47, 0.9);
            padding: 40px;
            border-radius: 20px;
            width: 100%;
            max-width: 800px;
            border: 3px solid #00d4ff;
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.3);
        }
        
        .team-options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-top: 25px;
        }
        
        .team-option-btn {
            padding: 20px;
            background: rgba(255, 255, 255, 0.07);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .team-option-btn:hover {
            background: rgba(0, 212, 255, 0.2);
            border-color: #00d4ff;
            transform: translateY(-2px);
        }
        
        .team-timer {
            font-size: 3rem;
            color: #ffa502;
            font-weight: bold;
            margin: 20px 0;
            text-align: center;
        }
        
        /* Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… */
        .control-panel {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 40px;
            flex-wrap: wrap;
        }
        
        .team-btn {
            padding: 15px 30px;
            font-size: 1.1rem;
            border-radius: 10px;
            border: none;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 10px;
            transition: 0.3s;
        }
        
        .team-btn-blue {
            background: linear-gradient(45deg, #00d4ff, #0099ff);
            color: black;
        }
        
        .team-btn-red {
            background: linear-gradient(45deg, #ff4757, #ff6b6b);
            color: white;
        }
        
        .team-btn-gold {
            background: linear-gradient(45deg, #ffd700, #ffa500);
            color: black;
        }
        
        .team-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        /* Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© */
        .team-result-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        
        .team-result-card {
            background: linear-gradient(135deg, #0c2461, #1e3799);
            padding: 50px;
            border-radius: 25px;
            text-align: center;
            border: 3px solid #00d4ff;
            max-width: 800px;
            width: 90%;
        }
        
        .winner-banner {
            font-size: 3.5rem;
            margin-bottom: 30px;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        .teams-scoreboard {
            display: flex;
            justify-content: space-around;
            margin: 40px 0;
            gap: 30px;
        }
        
        .team-final-score {
            padding: 30px;
            border-radius: 15px;
            flex: 1;
        }
        
        .team-final-score.blue {
            background: rgba(0, 212, 255, 0.1);
            border: 2px solid #00d4ff;
        }
        
        .team-final-score.red {
            background: rgba(255, 71, 87, 0.1);
            border: 2px solid #ff4757;
        }
        
        .final-score-value {
            font-size: 4rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .blue .final-score-value {
            color: #00d4ff;
        }
        
        .red .final-score-value {
            color: #ff4757;
        }
        
        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ© */
        @keyframes floatUp {
            0% { transform: translateX(50%) translateY(0); opacity: 1; }
            100% { transform: translateX(50%) translateY(-50px); opacity: 0; }
        }
        
        @keyframes correctAnswer {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes wrongAnswer {
            0% { transform: translateX(0); }
            25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); }
            75% { transform: translateX(-10px); }
            100% { transform: translateX(0); }
        }
    </style>
</head>
<body>
    <!-- ===== NAVBAR ===== -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-crown"></i>
                <span>ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø©</span>
            </a>
            
            <div class="nav-links">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </a>
                <a href="game.html" class="nav-link">
                    <i class="fas fa-gamepad"></i> Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ©
                </a>
                <a href="team-game.html" class="nav-link active">
                    <i class="fas fa-users"></i> Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©
                </a>
                <a href="challenges.html" class="nav-link">
                    <i class="fas fa-trophy"></i> Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª
                </a>
                <a href="leaderboard.html" class="nav-link">
                    <i class="fas fa-chart-line"></i> Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†
                </a>
            </div>
        </div>
    </nav>

    <!-- ===== TEAM GAME ===== -->
    <div class="team-game-container">
        <div class="game-header" style="text-align: center; margin-bottom: 40px;">
            <h1 class="game-title" style="font-size: 3rem; color: #00d4ff;">
                <i class="fas fa-users"></i> Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©
            </h1>
            <p class="game-subtitle" style="color: #aaa; font-size: 1.2rem;">
                Ø´ÙƒÙ„ ÙØ±ÙŠÙ‚Ùƒ ÙˆØªØ­Ø¯Ù‰ Ø§Ù„Ø£ØµØ¯Ù‚Ø§Ø¡ ÙÙŠ Ù…Ø¹Ø±ÙƒØ© Ù…Ø¹Ø±ÙÙŠØ© Ù…Ø´ØªØ¹Ù„Ø©!
            </p>
        </div>

        <div class="teams-wrapper">
            <!-- Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚ -->
            <div class="team-panel team-blue">
                <div class="team-header">
                    <div class="team-name">
                        <i class="fas fa-users"></i> Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚
                    </div>
                    <div class="team-score" id="blueScore">0</div>
                </div>
                
                <div class="players-list" id="bluePlayers">
                    <!-- Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† ÙŠØ¶Ø§ÙÙˆÙ† Ù‡Ù†Ø§ -->
                </div>
                
                <button class="add-player-btn" onclick="addPlayer('blue')">
                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨
                </button>
                
                <div style="margin-top: auto; padding-top: 20px;">
                    <button class="team-btn team-btn-blue" style="width: 100%;" onclick="teamAnswer('blue')">
                        <i class="fas fa-bullhorn"></i> Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚ ÙŠØ¬ÙŠØ¨
                    </button>
                </div>
            </div>

            <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠØ© -->
            <div class="question-center">
                <div class="current-team-turn" id="currentTurn">
                    <div>Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚:</div>
                    <div class="team-turn-name" id="currentTeamName">Ø§Ù„Ø£Ø²Ø±Ù‚</div>
                </div>
                
                <div class="question-box">
                    <div class="question-header" style="margin-bottom: 25px;">
                        <div>
                            <span class="category-badge" id="teamQuestionCategory">Ø§Ù„Ø¹Ù„Ù…</span>
                            <span class="difficulty-badge" id="teamQuestionDifficulty">Ø³Ù‡Ù„</span>
                        </div>
                        <div style="color: #aaa;">
                            Ø§Ù„Ø³Ø¤Ø§Ù„: <span id="teamQuestionNumber">1</span>/10
                        </div>
                    </div>
                    
                    <div class="question-text" id="teamQuestionText" style="font-size: 1.5rem;">
                        ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„...
                    </div>
                    
                    <div class="team-timer" id="teamTimer">30</div>
                    
                    <div class="team-options-grid" id="teamOptionsGrid">
                        <!-- Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª ØªØ¸Ù‡Ø± Ù‡Ù†Ø§ -->
                    </div>
                </div>
                
                <div style="margin-top: 30px; text-align: center;">
                    <button class="team-btn team-btn-gold" onclick="skipQuestion()">
                        <i class="fas fa-forward"></i> ØªØ®Ø·ÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„
                    </button>
                </div>
            </div>

            <!-- Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø± -->
            <div class="team-panel team-red">
                <div class="team-header">
                    <div class="team-name">
                        <i class="fas fa-users"></i> Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±
                    </div>
                    <div class="team-score" id="redScore">0</div>
                </div>
                
                <div class="players-list" id="redPlayers">
                    <!-- Ø§Ù„Ù„Ø§Ø¹Ø¨ÙˆÙ† ÙŠØ¶Ø§ÙÙˆÙ† Ù‡Ù†Ø§ -->
                </div>
                
                <button class="add-player-btn" onclick="addPlayer('red')">
                    <i class="fas fa-plus"></i> Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨
                </button>
                
                <div style="margin-top: auto; padding-top: 20px;">
                    <button class="team-btn team-btn-red" style="width: 100%;" onclick="teamAnswer('red')">
                        <i class="fas fa-bullhorn"></i> Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø± ÙŠØ¬ÙŠØ¨
                    </button>
                </div>
            </div>
        </div>

        <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
        <div class="control-panel">
            <button class="team-btn team-btn-blue" onclick="startTeamGame()">
                <i class="fas fa-play-circle"></i> Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø©
            </button>
            <button class="team-btn" style="background: #2ed573;" onclick="pauseGame()">
                <i class="fas fa-pause"></i> Ø¥ÙŠÙ‚Ø§Ù Ù…Ø¤Ù‚Øª
            </button>
            <button class="team-btn team-btn-red" onclick="resetTeamGame()">
                <i class="fas fa-redo"></i> Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„ØªØ´ØºÙŠÙ„
            </button>
            <button class="team-btn" style="background: #a55eea;" onclick="addRandomQuestion()">
                <i class="fas fa-question-circle"></i> Ø³Ø¤Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ
            </button>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© -->
    <div class="team-result-overlay" id="teamResultOverlay" style="display: none;">
        <div class="team-result-card">
            <div class="winner-banner" id="winnerBanner">
                ğŸ† ÙØ±ÙŠÙ‚ Ø§Ù„ÙØ§Ø¦Ø² ğŸ†
            </div>
            
            <h2 style="color: #00d4ff; font-size: 2.5rem; margin-bottom: 10px;" id="winnerTeam">
                Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚
            </h2>
            <p style="color: #aaa; font-size: 1.2rem; margin-bottom: 40px;">
                ÙØ§Ø² ÙÙŠ Ù…Ø¹Ø±ÙƒØ© Ø§Ù„Ù…Ø¹Ø±ÙØ©!
            </p>
            
            <div class="teams-scoreboard">
                <div class="team-final-score blue">
                    <h3 style="color: #00d4ff;">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚</h3>
                    <div class="final-score-value" id="finalBlueScore">0</div>
                    <div style="color: #aaa;">Ù†Ù‚Ø·Ø©</div>
                </div>
                
                <div class="team-final-score red">
                    <h3 style="color: #ff4757;">Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±</h3>
                    <div class="final-score-value" id="finalRedScore">0</div>
                    <div style="color: #aaa;">Ù†Ù‚Ø·Ø©</div>
                </div>
            </div>
            
            <div style="margin: 40px 0;">
                <h3 style="color: #ffd700; margin-bottom: 20px;">ğŸ–ï¸ Ø£ÙØ¶Ù„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h3>
                <div id="topPlayersList" style="color: #aaa;">
                    <!-- Ù‚Ø§Ø¦Ù…Ø© Ø£ÙØ¶Ù„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† -->
                </div>
            </div>
            
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
                <button class="team-btn team-btn-blue" onclick="playTeamGameAgain()">
                    <i class="fas fa-redo"></i> Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                </button>
                <button class="team-btn team-btn-red" onclick="switchTeams()">
                    <i class="fas fa-exchange-alt"></i> ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙØ±Ù‚
                </button>
                <button class="team-btn" style="background: #2ed573;" onclick="goToHome()">
                    <i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
            </div>
        </div>
    </div>

    <script>
        // ============================================
        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© - ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø©
        // ============================================
        
        let teamGame;
        
        class TeamGame {
            constructor() {
                this.teams = {
                    blue: { score: 0, players: [], turnPoints: 0 },
                    red: { score: 0, players: [], turnPoints: 0 }
                };
                
                this.currentTeam = 'blue';
                this.gameActive = false;
                this.totalQuestions = 10;
                this.currentQuestion = 0;
                this.timeLeft = 30;
                this.timer = null;
                this.questions = this.loadTeamQuestions();
                this.currentQuestionData = null;
                
                this.init();
            }
            
            init() {
                // Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§ÙØªØ±Ø§Ø¶ÙŠÙŠÙ†
                this.addPlayer('blue', 'Ø§Ù„Ù„Ø§Ø¹Ø¨ 1');
                this.addPlayer('red', 'Ø§Ù„Ù„Ø§Ø¹Ø¨ 1');
                
                // ØªØ­Ù…ÙŠÙ„ Ø£ÙˆÙ„ Ø³Ø¤Ø§Ù„
                this.loadRandomQuestion();
                this.updateScores();
                this.renderPlayers();
                
                console.log('ğŸ® Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ© Ø¬Ø§Ù‡Ø²Ø©!');
            }
            
            loadTeamQuestions() {
                return [
                    {
                        id: 1,
                        question: "Ù…Ø§ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§ØŸ",
                        category: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
                        difficulty: "easy",
                        options: ["Ù„Ù†Ø¯Ù†", "Ø¨Ø§Ø±ÙŠØ³", "Ø±ÙˆÙ…Ø§", "Ø¨Ø±Ù„ÙŠÙ†"],
                        correct: 1,
                        explanation: "Ø¨Ø§Ø±ÙŠØ³ Ù‡ÙŠ Ø¹Ø§ØµÙ…Ø© ÙØ±Ù†Ø³Ø§"
                    },
                    {
                        id: 2,
                        question: "ÙƒÙ… Ø¹Ø¯Ø¯ ÙƒÙˆØ§ÙƒØ¨ Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹Ø© Ø§Ù„Ø´Ù…Ø³ÙŠØ©ØŸ",
                        category: "Ø§Ù„Ø¹Ù„Ù…",
                        difficulty: "easy",
                        options: ["7", "8", "9", "10"],
                        correct: 1,
                        explanation: "8 ÙƒÙˆØ§ÙƒØ¨ (Ø¹Ø·Ø§Ø±Ø¯ØŒ Ø§Ù„Ø²Ù‡Ø±Ø©ØŒ Ø§Ù„Ø£Ø±Ø¶ØŒ Ø§Ù„Ù…Ø±ÙŠØ®ØŒ Ø§Ù„Ù…Ø´ØªØ±ÙŠØŒ Ø²Ø­Ù„ØŒ Ø£ÙˆØ±Ø§Ù†ÙˆØ³ØŒ Ù†Ø¨ØªÙˆÙ†)"
                    },
                    {
                        id: 3,
                        question: "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ù„Ù ÙƒØªØ§Ø¨ 'Ø§Ù„Ø£Ù…ÙŠØ±'ØŸ",
                        category: "Ø§Ù„Ø£Ø¯Ø¨",
                        difficulty: "medium",
                        options: ["Ù†ÙŠÙƒÙˆÙ„Ùˆ Ù…ÙƒÙŠØ§ÙÙŠÙ„Ù„ÙŠ", "Ø£ÙÙ„Ø§Ø·ÙˆÙ†", "Ø£Ø±Ø³Ø·Ùˆ", "ØªÙˆÙ…Ø§Ø³ Ù‡ÙˆØ¨Ø²"],
                        correct: 0,
                        explanation: "Ù†ÙŠÙƒÙˆÙ„Ùˆ Ù…ÙƒÙŠØ§ÙÙŠÙ„Ù„ÙŠ Ù‡Ùˆ Ù…Ø¤Ù„Ù ÙƒØªØ§Ø¨ Ø§Ù„Ø£Ù…ÙŠØ±"
                    },
                    {
                        id: 4,
                        question: "Ù…Ø§ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                        category: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
                        difficulty: "medium",
                        options: ["Ø§Ù„Ù†ÙŠÙ„", "Ø§Ù„Ø£Ù…Ø§Ø²ÙˆÙ†", "Ø§Ù„Ù…ÙŠØ³ÙŠØ³ÙŠØ¨ÙŠ", "ÙŠØ§Ù†ØºØªØ³ÙŠ"],
                        correct: 0,
                        explanation: "Ù†Ù‡Ø± Ø§Ù„Ù†ÙŠÙ„ Ù‡Ùˆ Ø£Ø·ÙˆÙ„ Ù†Ù‡Ø± ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø·ÙˆÙ„ 6650 ÙƒÙ…"
                    },
                    {
                        id: 5,
                        question: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ø£Ø³Ø³Øª Ù…Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø©ØŸ",
                        category: "Ø§Ù„ØªØ§Ø±ÙŠØ®",
                        difficulty: "hard",
                        options: ["1942", "1945", "1950", "1939"],
                        correct: 1,
                        explanation: "Ø£Ø³Ø³Øª Ø§Ù„Ø£Ù…Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø© ÙÙŠ 24 Ø£ÙƒØªÙˆØ¨Ø± 1945"
                    },
                    {
                        id: 6,
                        question: "Ù…Ø§ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠØŸ",
                        category: "Ø¹Ù„Ù… Ø§Ù„Ø­ÙŠÙˆØ§Ù†",
                        difficulty: "easy",
                        options: ["Ø§Ù„ÙÙ‡Ø¯", "Ø§Ù„Ø£Ø³Ø¯", "Ø§Ù„Ù†Ù…Ø±", "Ø§Ù„Ø°Ø¦Ø¨"],
                        correct: 0,
                        explanation: "Ø§Ù„ÙÙ‡Ø¯ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠ Ø­ÙŠØ« ØªØµÙ„ Ø³Ø±Ø¹ØªÙ‡ Ø¥Ù„Ù‰ 112 ÙƒÙ…/Ø³Ø§Ø¹Ø©"
                    },
                    {
                        id: 7,
                        question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø±Ù…Ø²Ù‡ 'Au'ØŸ",
                        category: "Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¡",
                        difficulty: "easy",
                        options: ["Ø§Ù„ÙØ¶Ø©", "Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„Ø£Ù„ÙˆÙ…Ù†ÙŠÙˆÙ…", "Ø§Ù„Ø­Ø¯ÙŠØ¯"],
                        correct: 1,
                        explanation: "Au Ù‡Ùˆ Ø±Ù…Ø² Ø§Ù„Ø°Ù‡Ø¨ (Aurum) ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯ÙˆØ±ÙŠ"
                    },
                    {
                        id: 8,
                        question: "ÙƒÙ… Ø¹Ø¯Ø¯ Ù„Ø§Ø¹Ø¨ÙŠ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… ÙÙŠ ÙƒÙ„ ÙØ±ÙŠÙ‚ØŸ",
                        category: "Ø§Ù„Ø±ÙŠØ§Ø¶Ø©",
                        difficulty: "easy",
                        options: ["10", "11", "12", "9"],
                        correct: 1,
                        explanation: "ÙŠØªÙƒÙˆÙ† ÙØ±ÙŠÙ‚ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… Ù…Ù† 11 Ù„Ø§Ø¹Ø¨Ø§Ù‹"
                    },
                    {
                        id: 9,
                        question: "Ù…Ù† Ù‡Ùˆ Ù…Ø¤Ù„Ù Ø±ÙˆØ§ÙŠØ© 'Ø§Ù„Ø¨Ø¤Ø³Ø§Ø¡'ØŸ",
                        category: "Ø§Ù„Ø£Ø¯Ø¨",
                        difficulty: "hard",
                        options: ["ÙÙŠÙƒØªÙˆØ± Ù‡ÙˆØ¬Ùˆ", "ØªØ´Ø§Ø±Ù„Ø² Ø¯ÙŠÙƒÙ†Ø²", "Ù„ÙŠÙˆ ØªÙˆÙ„Ø³ØªÙˆÙŠ", "Ø¬ÙŠ Ø¯ÙŠ Ù…ÙˆØ¨Ø§Ø³Ø§Ù†"],
                        correct: 0,
                        explanation: "Ø±ÙˆØ§ÙŠØ© Ø§Ù„Ø¨Ø¤Ø³Ø§Ø¡ Ù…Ù† ØªØ£Ù„ÙŠÙ Ø§Ù„ÙƒØ§ØªØ¨ Ø§Ù„ÙØ±Ù†Ø³ÙŠ ÙÙŠÙƒØªÙˆØ± Ù‡ÙˆØ¬Ùˆ"
                    },
                    {
                        id: 10,
                        question: "Ù…Ø§ Ù‡Ùˆ Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                        category: "Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§",
                        difficulty: "medium",
                        options: ["ÙƒÙŠÙ†Ø§Ø¨Ø§Ù„Ùˆ", "Ø¥ÙØ±Ø³Øª", "ÙƒÙŠ 2", "ÙƒØ§Ù†ØºØ´ÙŠÙ†Ø¬ÙˆÙ†ØºØ§"],
                        correct: 1,
                        explanation: "Ø¬Ø¨Ù„ Ø¥ÙØ±Ø³Øª Ù‡Ùˆ Ø£Ø¹Ù„Ù‰ Ø¬Ø¨Ù„ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¨Ø§Ø±ØªÙØ§Ø¹ 8848 Ù…ØªØ±"
                    }
                ];
            }
            
            addPlayer(team, name = null) {
                if (!name) {
                    name = prompt(`Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø¬Ø¯ÙŠØ¯ Ù„Ù„ÙØ±ÙŠÙ‚ ${team === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±'}:`);
                    if (!name || name.trim() === '') {
                        name = `Ø§Ù„Ù„Ø§Ø¹Ø¨ ${this.teams[team].players.length + 1}`;
                    }
                }
                
                const player = {
                    id: Date.now() + Math.random(),
                    name: name.trim(),
                    score: 0,
                    correctAnswers: 0,
                    wrongAnswers: 0
                };
                
                this.teams[team].players.push(player);
                this.renderPlayers();
                
                // Ø¥Ø´Ø¹Ø§Ø±
                this.showNotification(`ØªÙ… Ø¥Ø¶Ø§ÙØ© ${player.name} Ø¥Ù„Ù‰ Ø§Ù„ÙØ±ÙŠÙ‚ ${team === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±'}`);
            }
            
            renderPlayers() {
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚
                const blueList = document.getElementById('bluePlayers');
                blueList.innerHTML = '';
                
                this.teams.blue.players.forEach(player => {
                    const playerItem = document.createElement('div');
                    playerItem.className = 'player-item';
                    playerItem.innerHTML = `
                        <div class="player-name">
                            <div class="player-avatar" style="background: rgba(0, 212, 255, 0.2);">
                                <i class="fas fa-user"></i>
                            </div>
                            <span>${player.name}</span>
                        </div>
                        <div class="player-points">${player.score}</div>
                    `;
                    blueList.appendChild(playerItem);
                });
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±
                const redList = document.getElementById('redPlayers');
                redList.innerHTML = '';
                
                this.teams.red.players.forEach(player => {
                    const playerItem = document.createElement('div');
                    playerItem.className = 'player-item';
                    playerItem.innerHTML = `
                        <div class="player-name">
                            <div class="player-avatar" style="background: rgba(255, 71, 87, 0.2);">
                                <i class="fas fa-user"></i>
                            </div>
                            <span>${player.name}</span>
                        </div>
                        <div class="player-points">${player.score}</div>
                    `;
                    redList.appendChild(playerItem);
                });
            }
            
            loadRandomQuestion() {
                const randomIndex = Math.floor(Math.random() * this.questions.length);
                this.currentQuestionData = this.questions[randomIndex];
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                document.getElementById('teamQuestionText').textContent = this.currentQuestionData.question;
                document.getElementById('teamQuestionCategory').textContent = this.currentQuestionData.category;
                document.getElementById('teamQuestionDifficulty').textContent = 
                    this.currentQuestionData.difficulty === 'easy' ? 'Ø³Ù‡Ù„' : 
                    this.currentQuestionData.difficulty === 'medium' ? 'Ù…ØªÙˆØ³Ø·' : 'ØµØ¹Ø¨';
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
                const optionsGrid = document.getElementById('teamOptionsGrid');
                optionsGrid.innerHTML = '';
                
                this.currentQuestionData.options.forEach((option, index) => {
                    const btn = document.createElement('button');
                    btn.className = 'team-option-btn';
                    btn.textContent = option;
                    btn.onclick = () => this.teamSelectAnswer(index);
                    optionsGrid.appendChild(btn);
                });
            }
            
            startGame() {
                if (this.teams.blue.players.length === 0 || this.teams.red.players.length === 0) {
                    this.showNotification('âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù„ÙƒÙ„Ø§ Ø§Ù„ÙØ±ÙŠÙ‚ÙŠÙ†!', 'error');
                    return;
                }
                
                this.gameActive = true;
                this.currentQuestion = 0;
                this.teams.blue.score = 0;
                this.teams.red.score = 0;
                
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
                document.getElementById('teamResultOverlay').style.display = 'none';
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·
                this.updateScores();
                this.nextQuestion();
                
                this.showNotification('ğŸ Ø¨Ø¯Ø£Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©! Ø­Ø¸Ø§Ù‹ Ø³Ø¹ÙŠØ¯Ø§Ù‹ Ù„Ù„ÙØ±ÙŠÙ‚ÙŠÙ†!', 'success');
            }
            
            nextQuestion() {
                if (this.currentQuestion >= this.totalQuestions) {
                    this.endGame();
                    return;
                }
                
                this.currentQuestion++;
                this.currentTeam = this.currentTeam === 'blue' ? 'red' : 'blue';
                this.teams[this.currentTeam].turnPoints = 0;
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                document.getElementById('teamQuestionNumber').textContent = 
                    `${this.currentQuestion}/${this.totalQuestions}`;
                document.getElementById('currentTeamName').textContent = 
                    this.currentTeam === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±';
                document.getElementById('currentTurn').style.borderColor = 
                    this.currentTeam === 'blue' ? '#00d4ff' : '#ff4757';
                
                // ØªØ­Ù…ÙŠÙ„ Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯
                this.loadRandomQuestion();
                this.startTimer();
                
                // Ø¥Ø´Ø¹Ø§Ø± Ø¨ØªØºÙŠÙŠØ± Ø§Ù„Ø¯ÙˆØ±
                this.showNotification(`ğŸ¯ Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚ ${this.currentTeam === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±'} Ø§Ù„Ø¢Ù†!`);
            }
            
            startTimer() {
                clearInterval(this.timer);
                this.timeLeft = 30;
                document.getElementById('teamTimer').textContent = this.timeLeft;
                
                this.timer = setInterval(() => {
                    this.timeLeft--;
                    document.getElementById('teamTimer').textContent = this.timeLeft;
                    
                    if (this.timeLeft <= 0) {
                        clearInterval(this.timer);
                        this.timeUp();
                    }
                }, 1000);
            }
            
            teamSelectAnswer(selectedIndex) {
                if (!this.gameActive) return;
                
                clearInterval(this.timer);
                const correctIndex = this.currentQuestionData.correct;
                const buttons = document.querySelectorAll('.team-option-btn');
                
                // ØªØ¹Ø·ÙŠÙ„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø²Ø±Ø§Ø±
                buttons.forEach(btn => btn.disabled = true);
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØ§Ù„Ø®Ø§Ø·Ø¦Ø©
                buttons.forEach((btn, index) => {
                    if (index === correctIndex) {
                        btn.style.background = 'rgba(46, 213, 115, 0.3)';
                        btn.style.borderColor = '#2ed573';
                        btn.style.color = '#2ed573';
                        btn.style.animation = 'correctAnswer 0.5s ease';
                    } else if (index === selectedIndex && selectedIndex !== correctIndex) {
                        btn.style.background = 'rgba(255, 71, 87, 0.3)';
                        btn.style.borderColor = '#ff4757';
                        btn.style.color = '#ff4757';
                        btn.style.animation = 'wrongAnswer 0.5s ease';
                    }
                });
                
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
                if (selectedIndex === correctIndex) {
                    // Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©
                    const timeBonus = Math.floor(this.timeLeft * 3);
                    const basePoints = {
                        'easy': 100,
                        'medium': 250,
                        'hard': 500
                    };
                    
                    const points = basePoints[this.currentQuestionData.difficulty] + timeBonus;
                    this.teams[this.currentTeam].score += points;
                    this.teams[this.currentTeam].turnPoints = points;
                    
                    // ØªØ­Ø¯ÙŠØ« Ù†Ù‚Ø§Ø· Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø­Ø§Ù„ÙŠ
                    const currentPlayers = this.teams[this.currentTeam].players;
                    if (currentPlayers.length > 0) {
                        const activePlayerIndex = (this.currentQuestion - 1) % currentPlayers.length;
                        currentPlayers[activePlayerIndex].score += points;
                        currentPlayers[activePlayerIndex].correctAnswers++;
                    }
                    
                    // Ø¹Ø±Ø¶ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©
                    const pointsPopup = document.createElement('div');
                    pointsPopup.textContent = `+${points} Ù†Ù‚Ø·Ø©`;
                    pointsPopup.style.cssText = `
                        position: absolute;
                        top: -40px;
                        right: 50%;
                        transform: translateX(50%);
                        background: gold;
                        color: black;
                        padding: 8px 15px;
                        border-radius: 20px;
                        font-weight: bold;
                        font-size: 1.2rem;
                        z-index: 100;
                        animation: floatUp 1s ease-out;
                    `;
                    
                    buttons[correctIndex].style.position = 'relative';
                    buttons[correctIndex].appendChild(pointsPopup);
                    
                    // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ø¬Ø§Ø­
                    this.showNotification(`âœ… Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©! Ø§Ù„ÙØ±ÙŠÙ‚ ${this.currentTeam === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±'} ÙŠÙƒØ³Ø¨ ${points} Ù†Ù‚Ø·Ø©!`, 'success');
                } else {
                    // Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©
                    this.wrongAnswer();
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù†Ù‚Ø§Ø·
                this.updateScores();
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ±
                setTimeout(() => {
                    this.nextQuestion();
                }, 2000);
            }
            
            wrongAnswer() {
                const currentPlayers = this.teams[this.currentTeam].players;
                if (currentPlayers.length > 0) {
                    const activePlayerIndex = (this.currentQuestion - 1) % currentPlayers.length;
                    currentPlayers[activePlayerIndex].wrongAnswers++;
                }
                
                // Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ³ÙŠØ±
                const explanationDiv = document.createElement('div');
                explanationDiv.innerHTML = `
                    <div style="margin-top: 20px; padding: 15px; background: rgba(255, 71, 87, 0.1); border-radius: 10px; border-right: 3px solid #ff4757;">
                        <div style="color: #ff4757; font-weight: bold; margin-bottom: 5px;">ğŸ“ Ø§Ù„ØªÙØ³ÙŠØ±:</div>
                        <div style="color: #ffa8b6;">${this.currentQuestionData.explanation}</div>
                    </div>
                `;
                
                document.querySelector('.question-box').appendChild(explanationDiv);
                
                // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ø®Ø·Ø£
                this.showNotification(`âŒ Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©! Ø§Ù„Ø¬ÙˆØ§Ø¨ Ø§Ù„ØµØ­ÙŠØ­: ${this.currentQuestionData.options[this.currentQuestionData.correct]}`, 'error');
            }
            
            timeUp() {
                if (!this.gameActive) return;
                
                const buttons = document.querySelectorAll('.team-option-btn');
                buttons.forEach(btn => btn.disabled = true);
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©
                buttons.forEach((btn, index) => {
                    if (index === this.currentQuestionData.correct) {
                        btn.style.background = 'rgba(46, 213, 115, 0.3)';
                        btn.style.borderColor = '#2ed573';
                        btn.style.color = '#2ed573';
                    }
                });
                
                // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù†ØªÙ‡Ø§Ø¡ Ø§Ù„ÙˆÙ‚Øª
                this.showNotification('â° Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„ÙˆÙ‚Øª! Ù„Ù… ÙŠØªÙ… Ø§Ø®ØªÙŠØ§Ø± Ø¥Ø¬Ø§Ø¨Ø©.', 'warning');
                
                // Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ ØªØ£Ø®ÙŠØ±
                setTimeout(() => {
                    this.nextQuestion();
                }, 2000);
            }
            
            updateScores() {
                document.getElementById('blueScore').textContent = this.teams.blue.score;
                document.getElementById('redScore').textContent = this.teams.red.score;
            }
            
            endGame() {
                this.gameActive = false;
                clearInterval(this.timer);
                
                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„ÙØ§Ø¦Ø²
                let winner = 'blue';
                if (this.teams.red.score > this.teams.blue.score) {
                    winner = 'red';
                } else if (this.teams.red.score === this.teams.blue.score) {
                    winner = 'draw';
                }
                
                // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
                document.getElementById('finalBlueScore').textContent = this.teams.blue.score;
                document.getElementById('finalRedScore').textContent = this.teams.red.score;
                
                if (winner === 'draw') {
                    document.getElementById('winnerBanner').textContent = 'ğŸ¤ ØªØ¹Ø§Ø¯Ù„';
                    document.getElementById('winnerTeam').textContent = 'ØªØ¹Ø§Ø¯Ù„ Ø§Ù„ÙØ±ÙŠÙ‚Ø§Ù†';
                    document.getElementById('winnerTeam').style.color = '#ffd700';
                } else {
                    document.getElementById('winnerBanner').textContent = 'ğŸ† ÙØ±ÙŠÙ‚ Ø§Ù„ÙØ§Ø¦Ø² ğŸ†';
                    document.getElementById('winnerTeam').textContent = winner === 'blue' ? 'Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±';
                    document.getElementById('winnerTeam').style.color = winner === 'blue' ? '#00d4ff' : '#ff4757';
                }
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø£ÙØ¶Ù„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
                this.showTopPlayers();
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
                document.getElementById('teamResultOverlay').style.display = 'flex';
                
                // Ø¥Ø´Ø¹Ø§Ø± Ø§Ù„Ù†Ù‡Ø§ÙŠØ©
                this.showNotification(`ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©! ${winner === 'draw' ? 'ØªØ¹Ø§Ø¯Ù„ Ø§Ù„ÙØ±ÙŠÙ‚Ø§Ù†' : winner === 'blue' ? 'ÙØ§Ø² Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø²Ø±Ù‚' : 'ÙØ§Ø² Ø§Ù„ÙØ±ÙŠÙ‚ Ø§Ù„Ø£Ø­Ù…Ø±'}!`, 'success');
            }
            
            showTopPlayers() {
                const allPlayers = [
                    ...this.teams.blue.players.map(p => ({...p, team: 'blue'})),
                    ...this.teams.red.players.map(p => ({...p, team: 'red'}))
                ];
                
                // ØªØ±ØªÙŠØ¨ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø­Ø³Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
                allPlayers.sort((a, b) => b.score - a.score);
                
                const topPlayersList = document.getElementById('topPlayersList');
                topPlayersList.innerHTML = '';
                
                // Ø¹Ø±Ø¶ Ø£ÙØ¶Ù„ 5 Ù„Ø§Ø¹Ø¨ÙŠÙ†
                allPlayers.slice(0, 5).forEach((player, index) => {
                    const playerItem = document.createElement('div');
                    playerItem.style.cssText = `
                        padding: 10px 15px;
                        margin-bottom: 10px;
                        background: rgba(255, 255, 255, 0.05);
                        border-radius: 8px;
                        display: flex;
                        justify-content: space-between;
                        align-items: center;
                    `;
                    
                    playerItem.innerHTML = `
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <div style="font-size: 1.2rem; color: ${player.team === 'blue' ? '#00d4ff' : '#ff4757'}">
                                ${index === 0 ? 'ğŸ¥‡' : index === 1 ? 'ğŸ¥ˆ' : index === 2 ? 'ğŸ¥‰' : 'ğŸ…'}
                            </div>
                            <div>
                                <div>${player.name}</div>
                                <div style="font-size: 0.8rem; color: #aaa;">Ø§Ù„ÙØ±ÙŠÙ‚ ${player.team === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±'}</div>
                            </div>
                        </div>
                        <div style="font-weight: bold; color: #ffd700;">${player.score} Ù†Ù‚Ø·Ø©</div>
                    `;
                    
                    topPlayersList.appendChild(playerItem);
                });
            }
            
            showNotification(message, type = 'info') {
                // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø§Ù„Ø¥Ø´Ø¹Ø§Ø±
                const notification = document.createElement('div');
                notification.style.cssText = `
                    position: fixed;
                    top: 20px;
                    right: 20px;
                    padding: 15px 25px;
                    border-radius: 10px;
                    color: white;
                    font-weight: bold;
                    z-index: 10001;
                    animation: slideInRight 0.3s ease;
                    backdrop-filter: blur(10px);
                    border-left: 5px solid;
                    max-width: 400px;
                `;
                
                // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù„ÙˆÙ† Ø­Ø³Ø¨ Ø§Ù„Ù†ÙˆØ¹
                if (type === 'success') {
                    notification.style.background = 'rgba(46, 213, 115, 0.9)';
                    notification.style.borderLeftColor = '#2ed573';
                } else if (type === 'error') {
                    notification.style.background = 'rgba(255, 71, 87, 0.9)';
                    notification.style.borderLeftColor = '#ff4757';
                } else if (type === 'warning') {
                    notification.style.background = 'rgba(255, 165, 2, 0.9)';
                    notification.style.borderLeftColor = '#ffa502';
                } else {
                    notification.style.background = 'rgba(0, 148, 255, 0.9)';
                    notification.style.borderLeftColor = '#0094ff';
                }
                
                notification.innerHTML = `
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <i class="fas fa-${type === 'success' ? 'check-circle' : type === 'error' ? 'exclamation-circle' : type === 'warning' ? 'exclamation-triangle' : 'info-circle'}"></i>
                        <span>${message}</span>
                    </div>
                `;
                
                // Ø¥Ø¶Ø§ÙØ© Ù„Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª
                document.body.appendChild(notification);
                
                // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¥Ø´Ø¹Ø§Ø± Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†ÙŠ
                setTimeout(() => {
                    notification.style.animation = 'slideInRight 0.3s ease reverse';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }
            
            pauseGame() {
                if (this.timer) {
                    clearInterval(this.timer);
                    this.gameActive = false;
                    this.showNotification('â¸ï¸ Ø§Ù„Ù„Ø¹Ø¨Ø© Ù…ØªÙˆÙ‚ÙØ© Ù…Ø¤Ù‚ØªØ§Ù‹', 'warning');
                }
            }
            
            resetGame() {
                this.gameActive = false;
                clearInterval(this.timer);
                
                // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù†Ù‚Ø§Ø·
                this.teams.blue.players.forEach(p => {
                    p.score = 0;
                    p.correctAnswers = 0;
                    p.wrongAnswers = 0;
                });
                
                this.teams.red.players.forEach(p => {
                    p.score = 0;
                    p.correctAnswers = 0;
                    p.wrongAnswers = 0;
                });
                
                this.teams.blue.score = 0;
                this.teams.red.score = 0;
                this.currentQuestion = 0;
                
                this.updateScores();
                this.renderPlayers();
                this.loadRandomQuestion();
                
                document.getElementById('teamQuestionNumber').textContent = '1/10';
                document.getElementById('currentTeamName').textContent = 'Ø§Ù„Ø£Ø²Ø±Ù‚';
                document.getElementById('currentTurn').style.borderColor = '#00d4ff';
                document.getElementById('teamResultOverlay').style.display = 'none';
                
                this.showNotification('ğŸ”„ ØªÙ… Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©', 'info');
            }
        }
        
        // ============================================
        // Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¹Ø§Ù…Ø© Ù„Ù„ØªØ­ÙƒÙ…
        // ============================================
        
        function initTeamGame() {
            teamGame = new TeamGame();
        }
        
        function addPlayer(team) {
            if (!teamGame) initTeamGame();
            teamGame.addPlayer(team);
        }
        
        function startTeamGame() {
            if (!teamGame) initTeamGame();
            teamGame.startGame();
        }
        
        function teamAnswer(team) {
            if (!teamGame || !teamGame.gameActive) {
                teamGame.showNotification('Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø£ÙˆÙ„Ø§Ù‹!', 'warning');
                return;
            }
            
            if (team !== teamGame.currentTeam) {
                teamGame.showNotification(`Ù„ÙŠØ³ Ø¯ÙˆØ± Ø§Ù„ÙØ±ÙŠÙ‚ ${team === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±'} Ø§Ù„Ø¢Ù†!`, 'error');
                return;
            }
            
            teamGame.showNotification(`Ø§Ù„ÙØ±ÙŠÙ‚ ${team === 'blue' ? 'Ø§Ù„Ø£Ø²Ø±Ù‚' : 'Ø§Ù„Ø£Ø­Ù…Ø±'} ÙŠØ³ØªØ¹Ø¯ Ù„Ù„Ø¥Ø¬Ø§Ø¨Ø©...`, 'info');
        }
        
        function skipQuestion() {
            if (!teamGame || !teamGame.gameActive) return;
            
            teamGame.showNotification('â­ï¸ ØªÙ… ØªØ®Ø·ÙŠ Ø§Ù„Ø³Ø¤Ø§Ù„', 'info');
            teamGame.nextQuestion();
        }
        
        function pauseGame() {
            if (!teamGame) return;
            teamGame.pauseGame();
        }
        
        function resetTeamGame() {
            if (!teamGame) return;
            if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ù„Ù„Ø¹Ø¨Ø©ØŸ Ø³ØªÙÙ‚Ø¯ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ø­Ø§Ù„ÙŠØ©.')) {
                teamGame.resetGame();
            }
        }
        
        function addRandomQuestion() {
            if (!teamGame) initTeamGame();
            teamGame.loadRandomQuestion();
            teamGame.showNotification('ğŸ”„ ØªÙ… ØªØ­Ù…ÙŠÙ„ Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯', 'info');
        }
        
        function playTeamGameAgain() {
            document.getElementById('teamResultOverlay').style.display = 'none';
            if (teamGame) {
                teamGame.resetGame();
                teamGame.startGame();
            }
        }
        
        function switchTeams() {
            if (teamGame) {
                // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙØ±Ù‚
                const temp = teamGame.teams.blue;
                teamGame.teams.blue = teamGame.teams.red;
                teamGame.teams.red = temp;
                
                teamGame.renderPlayers();
                teamGame.updateScores();
                teamGame.showNotification('ğŸ”„ ØªÙ… ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙØ±Ù‚', 'success');
            }
        }
        
        function goToHome() {
            window.location.href = 'index.html';
        }
        
        // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', initTeamGame);
    </script>
</body>
</html>