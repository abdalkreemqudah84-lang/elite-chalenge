<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø© - Ø§Ù„Ù„Ø¹Ø¨ Ø§Ù„ÙØ±Ø¯ÙŠ</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
    <script src="firebase-config.js"></script>
    
    <style>
        /* Ø£Ù†Ù…Ø§Ø· Ø§Ù„Ù„Ø¹Ø¨Ø© */
        .game-container {
            max-width: 1000px;
            margin: 100px auto 50px;
            padding: 0 20px;
        }
        
        .game-mode-selector {
            display: flex;
            gap: 20px;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        
        .mode-card {
            flex: 1;
            min-width: 200px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            text-align: center;
            cursor: pointer;
            transition: 0.3s;
            border: 2px solid rgba(0, 212, 255, 0.3);
        }
        
        .mode-card:hover {
            transform: translateY(-5px);
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
        }
        
        .mode-icon {
            font-size: 3rem;
            margin-bottom: 15px;
            color: #00d4ff;
        }
        
        .question-container {
            background: rgba(10, 25, 47, 0.8);
            padding: 40px;
            border-radius: 20px;
            margin: 40px 0;
            border: 3px solid #00d4ff;
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(255, 255, 255, 0.1);
        }
        
        .question-text {
            font-size: 1.8rem;
            line-height: 1.6;
            color: white;
            margin-bottom: 30px;
        }
        
        .options-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
        }
        
        @media (max-width: 768px) {
            .options-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .option-btn {
            padding: 20px;
            background: rgba(255, 255, 255, 0.07);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            color: white;
            font-size: 1.2rem;
            text-align: right;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            overflow: hidden;
        }
        
        .option-btn:hover {
            background: rgba(0, 212, 255, 0.15);
            border-color: #00d4ff;
            transform: translateY(-2px);
        }
        
        .option-btn.correct {
            background: rgba(46, 213, 115, 0.2);
            border-color: #2ed573;
            color: #2ed573;
        }
        
        .option-btn.incorrect {
            background: rgba(255, 71, 87, 0.2);
            border-color: #ff4757;
            color: #ff4757;
        }
        
        .timer-container {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .timer-bar {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #0099ff);
            width: 100%;
            transition: width 1s linear;
        }
        
        .timer-text {
            text-align: center;
            font-size: 2.5rem;
            font-weight: bold;
            color: #00d4ff;
            margin: 10px 0;
        }
        
        .stats-bar {
            display: flex;
            justify-content: space-between;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px 25px;
            border-radius: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .stat-item {
            text-align: center;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #00d4ff;
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #aaa;
        }
        
        .result-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }
        
        .result-card {
            background: linear-gradient(135deg, #0c2461, #1e3799);
            padding: 50px;
            border-radius: 25px;
            text-align: center;
            border: 3px solid #00d4ff;
            max-width: 600px;
            width: 90%;
        }
        
        .result-score {
            font-size: 4rem;
            color: #00d4ff;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .level-indicator {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 10px 0;
        }
        
        .level-bar {
            flex: 1;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            overflow: hidden;
        }
        
        .level-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #0099ff);
            border-radius: 5px;
        }
        
        /* Ø´Ø§Ø±Ø§Øª Ø§Ù„ÙØ¦Ø© ÙˆØ§Ù„Ù…Ø³ØªÙˆÙ‰ */
        .category-badge, .difficulty-badge {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: bold;
            margin-left: 10px;
        }
        
        .category-badge {
            background: rgba(0, 212, 255, 0.2);
            color: #00d4ff;
            border: 1px solid #00d4ff;
        }
        
        .difficulty-badge {
            background: rgba(255, 193, 7, 0.2);
            color: #ffc107;
            border: 1px solid #ffc107;
        }
        
        /* Ø§Ù„Ø£Ø²Ø±Ø§Ø± */
        .btn {
            padding: 12px 30px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            border: none;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #00d4ff, #0099ff);
            color: #000;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 212, 255, 0.3);
        }
        
        .btn-secondary {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 2px solid rgba(255, 255, 255, 0.3);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.2);
            border-color: #00d4ff;
        }
    </style>
</head>
<body>
    <!-- ===== NAVBAR ===== -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="logo">
                <i class="fas fa-crown"></i>
                <span>ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø©</span>
            </a>
            
            <div class="nav-links">
                <a href="index.html" class="nav-link">
                    <i class="fas fa-home"></i> Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </a>
                <a href="game.html" class="nav-link active">
                    <i class="fas fa-gamepad"></i> Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ©
                </a>
                <a href="team-game.html" class="nav-link">
                    <i class="fas fa-users"></i> Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„Ø¬Ù…Ø§Ø¹ÙŠØ©
                </a>
                <a href="challenges.html" class="nav-link">
                    <i class="fas fa-trophy"></i> Ø§Ù„ØªØ­Ø¯ÙŠØ§Øª
                </a>
                <a href="leaderboard.html" class="nav-link">
                    <i class="fas fa-chart-line"></i> Ø§Ù„Ù…ØªØµØ¯Ø±ÙŠÙ†
                </a>
            </div>
        </div>
    </nav>

    <!-- ===== GAME AREA ===== -->
    <div class="game-container">
        <!-- Ø§Ø®ØªÙŠØ§Ø± Ù†Ù…Ø· Ø§Ù„Ù„Ø¹Ø¨ -->
        <div class="game-mode-selector" id="modeSelector">
            <div class="mode-card" onclick="startGame('quick')">
                <div class="mode-icon">âš¡</div>
                <h3>Ø§Ù„Ø¹Ø¨ Ø³Ø±ÙŠØ¹</h3>
                <p>10 Ø£Ø³Ø¦Ù„Ø© - 15 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„</p>
                <p class="stat-value">1,000 Ù†Ù‚Ø·Ø©</p>
            </div>
            
            <div class="mode-card" onclick="startGame('normal')">
                <div class="mode-icon">ğŸ¯</div>
                <h3>Ø§Ù„Ø¹Ø¨ Ø¹Ø§Ø¯ÙŠ</h3>
                <p>20 Ø³Ø¤Ø§Ù„ - 30 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ Ø³Ø¤Ø§Ù„</p>
                <p class="stat-value">2,500 Ù†Ù‚Ø·Ø©</p>
            </div>
            
            <div class="mode-card" onclick="startGame('challenge')">
                <div class="mode-icon">ğŸ†</div>
                <h3>ØªØ­Ø¯ÙŠ</h3>
                <p>Ø£Ø³Ø¦Ù„Ø© ØµØ¹Ø¨Ø© - ÙˆÙ‚Øª Ù…Ø­Ø¯ÙˆØ¯</p>
                <p class="stat-value">5,000+ Ù†Ù‚Ø·Ø©</p>
            </div>
        </div>

        <!-- Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
        <div id="gameArea" style="display: none;">
            <!-- Ø´Ø±ÙŠØ· Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª -->
            <div class="stats-bar">
                <div class="stat-item">
                    <div class="stat-value" id="currentScore">0</div>
                    <div class="stat-label">Ø§Ù„Ù†Ù‚Ø§Ø·</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="streakCount">0</div>
                    <div class="stat-label">Ø§Ù„ØªØ³Ù„Ø³Ù„</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="questionNumber">1/10</div>
                    <div class="stat-label">Ø§Ù„Ø³Ø¤Ø§Ù„</div>
                </div>
                <div class="stat-item">
                    <div class="stat-value" id="multiplier">1x</div>
                    <div class="stat-label">Ø§Ù„Ù…Ø¶Ø§Ø¹Ù</div>
                </div>
            </div>

            <!-- Ø§Ù„ØªØ§ÙŠÙ…Ø± -->
            <div class="timer-container">
                <div class="timer-bar" id="timerBar"></div>
            </div>
            <div class="timer-text" id="timerDisplay">30</div>

            <!-- Ø§Ù„Ø³Ø¤Ø§Ù„ -->
            <div class="question-container">
                <div class="question-header">
                    <div>
                        <span class="category-badge" id="questionCategory">Ø§Ù„Ø¹Ù„Ù…</span>
                        <span class="difficulty-badge" id="questionDifficulty">Ø³Ù‡Ù„</span>
                    </div>
                    <div class="level-indicator">
                        <span>Ø§Ù„Ù…Ø³ØªÙˆÙ‰: <span id="playerLevel">1</span></span>
                        <div class="level-bar">
                            <div class="level-fill" id="levelProgress" style="width: 10%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="question-text" id="questionText">
                    ÙŠØªÙ… ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø³Ø¤Ø§Ù„...
                </div>
                
                <div class="options-grid" id="optionsGrid">
                    <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¤Ù‡ Ø¨Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±ÙŠØ¨Øª -->
                </div>
            </div>

            <!-- Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ -->
            <div style="text-align: center; margin-top: 30px;">
                <button id="nextBtn" class="btn btn-primary" style="padding: 15px 40px; font-size: 1.2rem; display: none;">
                    <i class="fas fa-arrow-right"></i> Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„ØªØ§Ù„ÙŠ
                </button>
            </div>
        </div>
    </div>

    <!-- Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
    <div class="result-overlay" id="resultOverlay" style="display: none;">
        <div class="result-card">
            <h2 style="color: #00d4ff; font-size: 2.5rem; margin-bottom: 20px;">ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬ÙˆÙ„Ø©!</h2>
            
            <div class="result-score" id="finalScore">0</div>
            <p style="color: #aaa; font-size: 1.2rem;">Ù†Ù‚Ø·Ø©</p>
            
            <div style="margin: 30px 0;">
                <div style="display: flex; justify-content: space-around; margin: 20px 0;">
                    <div>
                        <div style="font-size: 2rem; color: #2ed573;" id="correctCount">0</div>
                        <div style="color: #aaa;">Ø¥Ø¬Ø§Ø¨Ø© ØµØ­ÙŠØ­Ø©</div>
                    </div>
                    <div>
                        <div style="font-size: 2rem; color: #ff4757;" id="wrongCount">0</div>
                        <div style="color: #aaa;">Ø¥Ø¬Ø§Ø¨Ø© Ø®Ø§Ø·Ø¦Ø©</div>
                    </div>
                    <div>
                        <div style="font-size: 2rem; color: #ffa502;" id="timeBonus">0</div>
                        <div style="color: #aaa;">Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ÙˆÙ‚Øª</div>
                    </div>
                </div>
            </div>
            
            <div style="margin: 25px 0; padding: 20px; background: rgba(255, 255, 255, 0.05); border-radius: 10px;">
                <h3 style="color: #00d4ff; margin-bottom: 10px;">ğŸ†• Ø§Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ø¬Ø¯ÙŠØ¯</h3>
                <div style="font-size: 1.5rem; color: #ffd700;" id="newLevel">Ù…Ø³ØªÙˆÙ‰ 1</div>
                <div style="color: #aaa;" id="levelReward">ØªØ§Ø¨Ø¹ Ø§Ù„Ù„Ø¹Ø¨ Ù„Ù„Ø§Ø±ØªÙ‚Ø§Ø¡</div>
            </div>
            
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 30px;">
                <button class="btn btn-primary" onclick="playAgain()">
                    <i class="fas fa-redo"></i> Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰
                </button>
                <button class="btn btn-secondary" onclick="goToHome()">
                    <i class="fas fa-home"></i> Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                </button>
                <button class="btn" style="background: linear-gradient(45deg, #ffd700, #ffa500);" onclick="shareResult()">
                    <i class="fas fa-share"></i> Ù…Ø´Ø§Ø±ÙƒØ© Ø§Ù„Ù†ØªÙŠØ¬Ø©
                </button>
            </div>
        </div>
    </div>

    <!-- ===== JAVASCRIPT ===== -->
    <script>
        // ============================================
        // ØªÙ‡ÙŠØ¦Ø© Firebase
        // ============================================
        let auth = null;
        let db = null;
        let currentUser = null;
        
        function initFirebase() {
            try {
                firebase.initializeApp(firebaseConfig);
                auth = firebase.auth();
                db = firebase.firestore();
                console.log('âœ… Firebase Ø¬Ø§Ù‡Ø² Ù„Ù„Ø¹Ø¨Ø©');
                
                // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ù‚Ø©
                auth.onAuthStateChanged((user) => {
                    if (user) {
                        currentUser = user;
                        console.log('ğŸ‘¤ Ù„Ø§Ø¹Ø¨ Ù…Ø³Ø¬Ù„:', user.email);
                    } else {
                        // Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ ØºÙŠØ± Ø§Ù„Ù…Ø³Ø¬Ù„ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©
                        console.log('âŒ ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø£ÙˆÙ„Ø§Ù‹');
                        alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø¹Ø¨');
                        window.location.href = 'index.html';
                    }
                });
                
                return true;
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Firebase:', error);
                return false;
            }
        }
        
        // ============================================
        // Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù„Ø¹Ø¨Ø©
        // ============================================
        const GAME_CONFIG = {
            APP_NAME: 'ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø© - Ø§Ù„Ù„Ø¹Ø¨Ø© Ø§Ù„ÙØ±Ø¯ÙŠØ©',
            VERSION: '1.0.0',
            
            GAME_MODES: {
                QUICK: { questions: 10, time: 15, basePoints: 1000 },
                NORMAL: { questions: 20, time: 30, basePoints: 2500 },
                CHALLENGE: { questions: 30, time: 20, basePoints: 5000 }
            },
            
            SCORING_SYSTEM: {
                EASY: { base: 10, timeMultiplier: 2 },
                MEDIUM: { base: 15, timeMultiplier: 3 },
                HARD: { base: 20, timeMultiplier: 5 },
                
                calculateScore: function(difficulty, timeLeft, streak) {
                    const config = this[difficulty.toUpperCase()];
                    if (!config) config = this.MEDIUM;
                    
                    let score = config.base;
                    score += Math.floor(timeLeft * 0.5);
                    
                    // Ù…ÙƒØ§ÙØ£Ø© Ø§Ù„ØªØ³Ù„Ø³Ù„
                    if (streak >= 3) score *= 1.5;
                    if (streak >= 5) score *= 2;
                    if (streak >= 10) score *= 3;
                    
                    return Math.floor(score);
                }
            },
            
            LEVELS: [
                { level: 1, name: "Ù…Ø¨ØªØ¯Ø¦", minXP: 0, badge: "ğŸ¥š" },
                { level: 2, name: "Ù…ØªÙˆØ³Ø·", minXP: 1000, badge: "ğŸ£" },
                { level: 3, name: "Ù…ØªÙ‚Ø¯Ù…", minXP: 3000, badge: "ğŸ“" },
                { level: 4, name: "Ø®Ø¨ÙŠØ±", minXP: 7000, badge: "ğŸ¦…" },
                { level: 5, name: "Ø£Ø³Ø·ÙˆØ±Ø©", minXP: 15000, badge: "ğŸ‘‘" }
            ],
            
            CATEGORIES: [
                { id: 'science', name: 'Ø§Ù„Ø¹Ù„ÙˆÙ…', icon: 'ğŸ§ª' },
                { id: 'history', name: 'Ø§Ù„ØªØ§Ø±ÙŠØ®', icon: 'ğŸ›ï¸' },
                { id: 'geography', name: 'Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠØ§', icon: 'ğŸ—ºï¸' },
                { id: 'sports', name: 'Ø§Ù„Ø±ÙŠØ§Ø¶Ø©', icon: 'âš½' },
                { id: 'art', name: 'Ø§Ù„ÙÙ†', icon: 'ğŸ¨' },
                { id: 'technology', name: 'Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§', icon: 'ğŸ’»' }
            ]
        };
        
        // ============================================
        // Ù†Ø¸Ø§Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©
        // ============================================
        class EliteChallengeGame {
            constructor() {
                if (!initFirebase()) {
                    throw new Error('Ù„Ø§ ÙŠÙ…ÙƒÙ† ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ø¯ÙˆÙ† Firebase');
                }
                
                this.gameMode = 'normal';
                this.score = 0;
                this.streak = 0;
                this.multiplier = 1;
                this.level = 1;
                this.experience = 0;
                this.currentQuestion = 0;
                this.correctAnswers = 0;
                this.wrongAnswers = 0;
                this.timeBonus = 0;
                this.timeLeft = 30;
                this.timer = null;
                this.isGameActive = false;
                this.questions = [];
                this.loadedQuestions = [];
                
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ù…Ø· Ø§Ù„Ø¹Ø§Ø¯ÙŠ
                const modeConfig = GAME_CONFIG.GAME_MODES.NORMAL;
                this.totalQuestions = modeConfig.questions;
                this.timePerQuestion = modeConfig.time;
                
                this.loadQuestionsFromFirestore();
            }
            
            async loadQuestionsFromFirestore() {
                try {
                    console.log('ğŸ“¥ Ø¬Ø§Ø±ÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©...');
                    
                    // ØªØ­Ù…ÙŠÙ„ Ø¹ÙŠÙ†Ø© Ù…Ù† Ø§Ù„Ø£Ø³Ø¦Ù„Ø© (ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©)
                    const snapshot = await db.collection('questions').limit(50).get();
                    
                    if (snapshot.empty) {
                        console.log('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
                        this.loadBackupQuestions();
                        return;
                    }
                    
                    this.loadedQuestions = snapshot.docs.map(doc => {
                        const data = doc.data();
                        return {
                            id: doc.id,
                            question: data.text,
                            category: data.category,
                            difficulty: data.difficulty,
                            options: data.options,
                            correct: data.correctAnswer - 1, // ØªØ­ÙˆÙŠÙ„ Ù…Ù† 1-4 Ø¥Ù„Ù‰ 0-3
                            explanation: `Ù‡Ø°Ø§ Ø§Ù„Ø³Ø¤Ø§Ù„ Ù…Ù† ÙØ¦Ø© ${this.getCategoryName(data.category)}`,
                            points: data.points || 10
                        };
                    });
                    
                    console.log(`âœ… ØªÙ… ØªØ­Ù…ÙŠÙ„ ${this.loadedQuestions.length} Ø³Ø¤Ø§Ù„`);
                    
                } catch (error) {
                    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©:', error);
                    this.loadBackupQuestions();
                }
            }
            
            loadBackupQuestions() {
                // Ø£Ø³Ø¦Ù„Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ© ÙÙŠ Ø­Ø§Ù„ ÙØ´Ù„ Ø§Ù„Ø§ØªØµØ§Ù„
                this.loadedQuestions = [
                    {
                        id: 1,
                        question: "Ù…Ø§ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù…ØŸ",
                        category: 'science',
                        difficulty: "easy",
                        options: ["Ø§Ù„ÙÙ‡Ø¯", "Ø§Ù„Ø£Ø³Ø¯", "Ø§Ù„Ù†Ù…Ø±", "Ø§Ù„Ø°Ø¦Ø¨"],
                        correct: 0,
                        explanation: "Ø§Ù„ÙÙ‡Ø¯ Ù‡Ùˆ Ø£Ø³Ø±Ø¹ Ø­ÙŠÙˆØ§Ù† Ø¨Ø±ÙŠ Ø­ÙŠØ« ØªØµÙ„ Ø³Ø±Ø¹ØªÙ‡ Ø¥Ù„Ù‰ 112 ÙƒÙ…/Ø³Ø§Ø¹Ø©",
                        points: 10
                    },
                    {
                        id: 2,
                        question: "ÙÙŠ Ø£ÙŠ Ø¹Ø§Ù… Ù‡Ø¨Ø· Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø£ÙˆÙ„ Ù…Ø±Ø© Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù…Ø±ØŸ",
                        category: 'history',
                        difficulty: "medium",
                        options: ["1965", "1969", "1972", "1958"],
                        correct: 1,
                        explanation: "Ù‡Ø¨Ø·Øª Ù…Ø±ÙƒØ¨Ø© Ø£Ø¨ÙˆÙ„Ùˆ 11 Ø¹Ù„Ù‰ Ø§Ù„Ù‚Ù…Ø± ÙÙŠ 20 ÙŠÙˆÙ„ÙŠÙˆ 1969",
                        points: 15
                    },
                    {
                        id: 3,
                        question: "Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„ÙƒÙŠÙ…ÙŠØ§Ø¦ÙŠ Ø§Ù„Ø°ÙŠ Ø±Ù…Ø²Ù‡ 'Au'ØŸ",
                        category: 'science',
                        difficulty: "easy",
                        options: ["Ø§Ù„ÙØ¶Ø©", "Ø§Ù„Ø°Ù‡Ø¨", "Ø§Ù„Ø£Ù„ÙˆÙ…Ù†ÙŠÙˆÙ…", "Ø§Ù„Ø­Ø¯ÙŠØ¯"],
                        correct: 1,
                        explanation: "Au Ù‡Ùˆ Ø±Ù…Ø² Ø§Ù„Ø°Ù‡Ø¨ (Aurum) ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø¯ÙˆØ±ÙŠ",
                        points: 10
                    }
                ];
                
                console.log('âš ï¸ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©');
            }
            
            getCategoryName(categoryId) {
                const category = GAME_CONFIG.CATEGORIES.find(c => c.id === categoryId);
                return category ? category.name : 'Ø¹Ø§Ù…';
            }
            
            startGame(mode) {
                if (!currentUser) {
                    alert('ÙŠØ¬Ø¨ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ù„Ø¹Ø¨');
                    window.location.href = 'index.html';
                    return;
                }
                
                this.gameMode = mode.toUpperCase();
                
                // Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ù†Ù…Ø· Ù…Ù† config
                const modeConfig = GAME_CONFIG.GAME_MODES[this.gameMode];
                this.totalQuestions = modeConfig.questions;
                this.timePerQuestion = modeConfig.time;
                
                this.resetGame();
                this.isGameActive = true;
                
                // Ø¥Ø®ÙØ§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ù†Ù…Ø· ÙˆØ¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù„Ø¹Ø¨Ø©
                document.getElementById('modeSelector').style.display = 'none';
                document.getElementById('gameArea').style.display = 'block';
                
                this.showNotification(`Ø¨Ø¯Ø£Øª Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¨Ù†Ù…Ø· ${this.getModeName(mode)}`, 'success');
                
                this.updateUI();
                this.showNextQuestion();
                this.startTimer();
            }
            
            getModeName(mode) {
                const names = {
                    'quick': 'Ø³Ø±ÙŠØ¹',
                    'normal': 'Ø¹Ø§Ø¯ÙŠ',
                    'challenge': 'ØªØ­Ø¯ÙŠ'
                };
                return names[mode] || mode;
            }
            
            resetGame() {
                this.score = 0;
                this.streak = 0;
                this.multiplier = 1;
                this.currentQuestion = 0;
                this.correctAnswers = 0;
                this.wrongAnswers = 0;
                this.timeBonus = 0;
                this.timeLeft = this.timePerQuestion;
                this.questions = [...this.loadedQuestions]; // Ù†Ø³Ø® Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ù…Ø­Ù…Ù„Ø©
            }
            
            showNextQuestion() {
                if (this.currentQuestion >= this.totalQuestions || this.questions.length === 0) {
                    this.endGame();
                    return;
                }
                
                this.currentQuestion++;
                document.getElementById('questionNumber').textContent = 
                    `${this.currentQuestion}/${this.totalQuestions}`;
                
                // Ø§Ø®ØªÙŠØ§Ø± Ø³Ø¤Ø§Ù„ Ø¹Ø´ÙˆØ§Ø¦ÙŠ ÙˆØ¥Ø²Ø§Ù„ØªÙ‡ Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø© Ù„ØªØ¬Ù†Ø¨ Ø§Ù„ØªÙƒØ±Ø§Ø±
                const randomIndex = Math.floor(Math.random() * this.questions.length);
                const q = this.questions[randomIndex];
                this.questions.splice(randomIndex, 1); // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ù…Ø®ØªØ§Ø±
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø³Ø¤Ø§Ù„
                document.getElementById('questionText').textContent = q.question;
                
                // Ø¹Ø±Ø¶ Ø§Ù„ÙØ¦Ø©
                document.getElementById('questionCategory').textContent = this.getCategoryName(q.category);
                
                // Ø¹Ø±Ø¶ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØµØ¹ÙˆØ¨Ø©
                document.getElementById('questionDifficulty').textContent = 
                    q.difficulty === 'easy' ? 'Ø³Ù‡Ù„' : 
                    q.difficulty === 'medium' ? 'Ù…ØªÙˆØ³Ø·' : 'ØµØ¹Ø¨';
                
                // Ø¹Ø±Ø¶ Ø§Ù„Ø®ÙŠØ§Ø±Ø§Øª
                const optionsGrid = document.getElementById('optionsGrid');
                optionsGrid.innerHTML = '';
                
                q.options.forEach((option, index) => {
                    const btn = document.createElement('button');
                    btn.className = 'option-btn';
                    btn.textContent = option;
                    btn.onclick = () => this.checkAnswer(index, q.correct, q.explanation, q.difficulty);
                    optionsGrid.appendChild(btn);
                });
                
                document.getElementById('nextBtn').style.display = 'none';
            }
            
            checkAnswer(selected, correct, explanation, difficulty) {
                if (!this.isGameActive) return;
                
                const buttons = document.querySelectorAll('.option-btn');
                buttons.forEach(btn => btn.disabled = true);
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„ØµØ­ÙŠØ­Ø© ÙˆØ§Ù„Ø®Ø§Ø·Ø¦Ø©
                buttons.forEach((btn, index) => {
                    if (index === correct) {
                        btn.classList.add('correct');
                    } else if (index === selected && selected !== correct) {
                        btn.classList.add('incorrect');
                    }
                });
                
                // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†ØªÙŠØ¬Ø©
                if (selected === correct) {
                    this.correctAnswers++;
                    this.streak++;
                    
                    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù…Ø¶Ø§Ø¹Ù
                    if (this.streak >= 3) this.multiplier = 2;
                    if (this.streak >= 5) this.multiplier = 3;
                    if (this.streak >= 10) this.multiplier = 5;
                    
                    // Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ù‚Ø§Ø·
                    const points = GAME_CONFIG.SCORING_SYSTEM.calculateScore(
                        difficulty, 
                        this.timeLeft, 
                        this.streak
                    );
                    
                    this.score += points;
                    this.timeBonus += Math.floor(this.timeLeft * 2);
                    
                    // Ø¥Ø¶Ø§ÙØ© Ø®Ø¨Ø±Ø©
                    this.addExperience(points);
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ù†Ù‚Ø§Ø· Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©
                    this.showPointsAnimation(buttons[correct], points);
                    
                } else {
                    this.wrongAnswers++;
                    this.streak = 0;
                    this.multiplier = 1;
                    
                    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„ØªÙØ³ÙŠØ±
                    this.showExplanation(explanation);
                }
                
                // ØªØ­Ø¯ÙŠØ« Ø§Ù„ÙˆØ§Ø¬Ù‡Ø©
                this.updateUI();
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ø²Ø± Ø§Ù„ØªØ§Ù„ÙŠ
                document.getElementById('nextBtn').style.display = 'block';
                document.getElementById('nextBtn').onclick = () => {
                    // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„ØªÙØ³ÙŠØ± Ø¥Ø°Ø§ Ù…ÙˆØ¬ÙˆØ¯
                    const oldExplanation = document.querySelector('.question-container > div:last-child');
                    if (oldExplanation && oldExplanation.style.borderRight) {
                        oldExplanation.remove();
                    }
                    
                    this.timeLeft = this.timePerQuestion;
                    this.showNextQuestion();
                    this.startTimer();
                };
            }
            
            showPointsAnimation(element, points) {
                const pointsPopup = document.createElement('div');
                pointsPopup.textContent = `+${points}`;
                pointsPopup.style.cssText = `
                    position: absolute;
                    top: -30px;
                    right: 50%;
                    transform: translateX(50%);
                    background: linear-gradient(45deg, gold, orange);
                    color: black;
                    padding: 5px 15px;
                    border-radius: 20px;
                    font-weight: bold;
                    font-size: 1.2rem;
                    z-index: 1000;
                    animation: floatUp 1s ease-out forwards;
                `;
                
                // Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙŠÙ…ÙŠØ´Ù† CSS
                const style = document.createElement('style');
                style.textContent = `
                    @keyframes floatUp {
                        0% { transform: translateX(50%) translateY(0); opacity: 1; }
                        100% { transform: translateX(50%) translateY(-50px); opacity: 0; }
                    }
                `;
                document.head.appendChild(style);
                
                element.appendChild(pointsPopup);
                
                setTimeout(() => {
                    pointsPopup.remove();
                    style.remove();
                }, 1000);
            }
            
            showExplanation(explanation) {
                const explanationDiv = document.createElement('div');
                explanationDiv.textContent = explanation;
                explanationDiv.style.cssText = `
                    margin-top: 15px;
                    padding: 15px;
                    background: rgba(255, 71, 87, 0.1);
                    border-radius: 10px;
                    border-right: 3px solid #ff4757;
                    color: #ffa8b6;
                    font-size: 1rem;
                    line-height: 1.5;
                `;
                document.querySelector('.question-container').appendChild(explanationDiv);
            }
            
            addExperience(points) {
                this.experience += Math.floor(points / 10);
                const leveledUp = this.checkLevelUp();
                if (leveledUp) {
                    this.showNotification(`ğŸ‰ Ù„Ù‚Ø¯ Ø§Ø±ØªÙ‚ÙŠØª Ø¥Ù„Ù‰ Ø§Ù„Ù…Ø³ØªÙˆÙ‰ ${this.level}!`, 'success');
                }
                this.updateLevelUI();
            }
            
            checkLevelUp() {
                for (let i = GAME_CONFIG.LEVELS.length - 1; i >= 0; i--) {
                    if (this.experience >= GAME_CONFIG.LEVELS[i].minXP) {
                        if (this.level !== GAME_CONFIG.LEVELS[i].level) {
                            this.level = GAME_CONFIG.LEVELS[i].level;
                            return true;
                        }
                        break;
                    }
                }
                return false;
            }
            
            updateLevelUI() {
                const currentLevel = GAME_CONFIG.LEVELS.find(l => l.level === this.level);
                const nextLevel = GAME_CONFIG.LEVELS.find(l => l.level === this.level + 1);
                
                if (currentLevel) {
                    document.getElementById('playerLevel').textContent = currentLevel.name;
                }
                
                if (nextLevel) {
                    const currentLevelXP = currentLevel.minXP;
                    const nextLevelXP = nextLevel.minXP;
                    const progress = ((this.experience - currentLevelXP) / (nextLevelXP - currentLevelXP)) * 100;
                    document.getElementById('levelProgress').style.width = `${Math.min(progress, 100)}%`;
                } else {
                    document.getElementById('levelProgress').style.width = '100%';
                }
            }
            
            startTimer() {
                clearInterval(this.timer);
                this.timeLeft = this.timePerQuestion;
                document.getElementById('timerDisplay').textContent = this.timeLeft;
                document.getElementById('timerBar').style.width = '100%';
                
                this.timer = setInterval(() => {
                    this.timeLeft--;
                    document.getElementById('timerDisplay').textContent = this.timeLeft;
                    document.getElementById('timerBar').style.width = 
                        `${(this.timeLeft / this.timePerQuestion) * 100}%`;
                    
                    if (this.timeLeft <= 0) {
                        clearInterval(this.timer);
                        this.timeUp();
                    }
                }, 1000);
            }
            
            timeUp() {
                if (!this.isGameActive) return;
                
                const buttons = document.querySelectorAll('.option-btn');
                buttons.forEach(btn => {
                    btn.disabled = true;
                    if (!btn.classList.contains('correct') && !btn.classList.contains('incorrect')) {
                        btn.classList.add('incorrect');
                    }
                });
                
                document.getElementById('nextBtn').style.display = 'block';
            }
            
            updateUI() {
                document.getElementById('currentScore').textContent = this.score.toLocaleString();
                document.getElementById('streakCount').textContent = this.streak;
                document.getElementById('multiplier').textContent = `${this.multiplier}x`;
            }
            
            async endGame() {
                this.isGameActive = false;
                clearInterval(this.timer);
                
                try {
                    // Ø­ÙØ¸ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© ÙÙŠ Firestore
                    await this.saveGameResult();
                } catch (error) {
                    console.error('âŒ Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ Ø§Ù„Ù†ØªÙŠØ¬Ø©:', error);
                }
                
                // ØªØ­Ø¯ÙŠØ« ÙˆØ§Ø¬Ù‡Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
                document.getElementById('finalScore').textContent = this.score.toLocaleString();
                document.getElementById('correctCount').textContent = this.correctAnswers;
                document.getElementById('wrongCount').textContent = this.wrongAnswers;
                document.getElementById('timeBonus').textContent = this.timeBonus;
                
                // Ù…Ø³ØªÙˆÙ‰ Ø¬Ø¯ÙŠØ¯
                const leveledUp = this.checkLevelUp();
                if (leveledUp) {
                    const newLevelData = GAME_CONFIG.LEVELS.find(l => l.level === this.level);
                    document.getElementById('newLevel').textContent = 
                        `${newLevelData.badge} Ù…Ø³ØªÙˆÙ‰ ${newLevelData.level}: ${newLevelData.name}`;
                    document.getElementById('levelReward').textContent = 
                        `Ù…ÙƒØ§ÙØ£Ø©: ${newLevelData.badge} + ${1000 * newLevelData.level} Ù†Ù‚Ø·Ø©`;
                } else {
                    const currentLevelData = GAME_CONFIG.LEVELS.find(l => l.level === this.level);
                    document.getElementById('newLevel').textContent = 
                        `${currentLevelData.badge} Ù…Ø³ØªÙˆÙ‰ ${currentLevelData.level}`;
                    document.getElementById('levelReward').textContent = 
                        `ØªØ§Ø¨Ø¹ Ø§Ù„Ù„Ø¹Ø¨ Ù„Ù„Ø§Ø±ØªÙ‚Ø§Ø¡ Ù„Ù„Ù…Ø³ØªÙˆÙ‰ Ø§Ù„ØªØ§Ù„ÙŠ!`;
                }
                
                // Ø¥Ø¸Ù‡Ø§Ø± Ù†Ø§ÙØ°Ø© Ø§Ù„Ù†ØªÙŠØ¬Ø©
                document.getElementById('resultOverlay').style.display = 'flex';
                
                this.showNotification(
                    `ğŸ‰ Ø§Ù†ØªÙ‡Øª Ø§Ù„Ø¬ÙˆÙ„Ø©! Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${this.score.toLocaleString()} Ù†Ù‚Ø·Ø©`, 
                    'success'
                );
            }
            
            async saveGameResult() {
                if (!currentUser || !db) return;
                
                const gameData = {
                    userId: currentUser.uid,
                    userEmail: currentUser.email,
                    gameMode: this.gameMode,
                    score: this.score,
                    correctAnswers: this.correctAnswers,
                    wrongAnswers: this.wrongAnswers,
                    timeBonus: this.timeBonus,
                    level: this.level,
                    experience: this.experience,
                    streak: this.streak,
                    playedAt: firebase.firestore.FieldValue.serverTimestamp()
                };
                
                await db.collection('gameResults').add(gameData);
                console.log('âœ… ØªÙ… Ø­ÙØ¸ Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©');
            }
            
            showNotification(message, type = 'info') {
                const notification = document.createElement('div');
                notification.textContent = message;
                notification.style.cssText = `
                    position: fixed;
                    top: 80px;
                    right: 20px;
                    padding: 15px 25px;
                    border-radius: 10px;
                    color: white;
                    font-weight: bold;
                    z-index: 10000;
                    animation: slideIn 0.3s ease;
                    background: ${type === 'success' ? 'linear-gradient(45deg, #00b09b, #96c93d)' : 
                               type === 'error' ? 'linear-gradient(45deg, #ff416c, #ff4b2b)' : 
                               'linear-gradient(45deg, #00e676, #00bcd4)'};
                    border-left: 5px solid ${type === 'success' ? '#00b09b' : 
                                        type === 'error' ? '#ff416c' : '#00e676'};
                `;
                
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    notification.style.animation = 'slideIn 0.3s ease reverse';
                    setTimeout(() => notification.remove(), 300);
                }, 3000);
            }
        }
        
        // ============================================
        // Ø§Ù„Ø¯ÙˆØ§Ù„ Ø§Ù„Ø¹Ø§Ù…Ø©
        // ============================================
        let game = null;
        
        function initGame() {
            try {
                game = new EliteChallengeGame();
                console.log('ğŸ® Ù†Ø¸Ø§Ù… ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø© Ø¬Ø§Ù‡Ø²');
            } catch (error) {
                console.error('âŒ Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©:', error);
                alert('Ø®Ø·Ø£ ÙÙŠ ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©. ØªØ£ÙƒØ¯ Ù…Ù† Ø§ØªØµØ§Ù„ Ø§Ù„Ø¥Ù†ØªØ±Ù†Øª');
            }
        }
        
        function startGame(mode) {
            if (!game) {
                alert('Ø§Ù„Ù„Ø¹Ø¨Ø© ØºÙŠØ± Ø¬Ø§Ù‡Ø²Ø© Ø¨Ø¹Ø¯. Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰.');
                return;
            }
            
            game.startGame(mode);
        }
        
        function playAgain() {
            document.getElementById('resultOverlay').style.display = 'none';
            document.getElementById('gameArea').style.display = 'none';
            document.getElementById('modeSelector').style.display = 'flex';
            initGame();
        }
        
        function goToHome() {
            window.location.href = 'index.html';
        }
        
        function shareResult() {
            if (!game) return;
            
            const score = document.getElementById('finalScore').textContent;
            const level = document.getElementById('newLevel').textContent;
            const message = `ğŸ® Ø­ØµÙ„Øª Ø¹Ù„Ù‰ ${score} Ù†Ù‚Ø·Ø© ÙÙŠ ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø© ÙˆÙˆØµÙ„Øª Ø¥Ù„Ù‰ ${level}!`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'Ù†ØªÙŠØ¬Ø© ØªØ­Ø¯ÙŠ Ø§Ù„Ù†Ø®Ø¨Ø©',
                    text: message,
                    url: window.location.href
                });
            } else {
                navigator.clipboard.writeText(message).then(() => {
                    game.showNotification('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!', 'success');
                }).catch(() => {
                    alert('ØªÙ… Ù†Ø³Ø® Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø­Ø§ÙØ¸Ø©!');
                });
            }
        }
        
        // Ø¨Ø¯Ø¡ Ø§Ù„Ù„Ø¹Ø¨Ø© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
        document.addEventListener('DOMContentLoaded', initGame);
        
        // Ø¥Ø¶Ø§ÙØ© Ø£Ù†ÙŠÙ…ÙŠØ´Ù† CSS
        const gameStyle = document.createElement('style');
        gameStyle.textContent = `
            @keyframes slideIn {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(gameStyle);
    </script>
</body>
</html>
